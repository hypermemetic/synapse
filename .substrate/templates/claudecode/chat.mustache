{{! claudecode.chat - returns: ChatEvent }}
{{! Variants: chat_start, chat_content, chat_complete, error }}
{{#chat_start}}
  cone_id: {{cone_id}}
  user_position: node_id={{user_position.node_id}} tree_id={{user_position.tree_id}}
{{/chat_start}}
{{#chat_content}}
  cone_id: {{cone_id}}
  content: {{{content}}}
{{/chat_content}}
{{#chat_complete}}
  cone_id: {{cone_id}}
  new_head: node_id={{new_head.node_id}} tree_id={{new_head.tree_id}}
  usage: {{#usage}}input_tokens={{input_tokens}} output_tokens={{output_tokens}} total_tokens={{total_tokens}}{{/usage}}{{^usage}}null{{/usage}}
{{/chat_complete}}
{{#error}}{{{message}}}{{/error}}
